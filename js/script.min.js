function result(i){var g=i,a=0,n=[],m=[],p=[],r=[],t="<h2>検索結果</h2>";for(var u in data)for(var s in data[u].list)if(g==data[u].list[s].name){var e=data[u].list[s].img,o=data[u].list[s].grade,l=data[u].type,h=data[u].list[s].rare,d=data[u].list[s].name;for(var k in data[u].comb)n[k]=data[u].comb[k].n1,m[k]=data[u].comb[k].n2}for(var u in data)if(l==data[u].type){for(var s in data[u].list)o>data[u].list[s].grade?r[s]=data[u].list[s].grade:o<data[u].list[s].grade&&(p[s]=data[u].list[s].grade);p=$.grep(p,function(i){return i}),r=$.grep(r,function(i){return i})}if(""==r)var f=0;else f=Math.max.apply(null,r);if(""==p)var c=o;else c=Math.min.apply(null,p);for(var a in n){var y=[],v=[],b=[],x=[];for(var u in data)if(n[a]==data[u].type)for(var s in data[u].list)y[s]=data[u].list[s];else if(m[a]==data[u].type)for(var s in data[u].list)v[s]=data[u].list[s];for(var u in y)for(var s in v){var j=Math.floor((y[u].grade+v[s].grade)/2+1);f<j&&j<c&&o>=j&&(b[k]=y[u],x[k]=v[s],k++)}if(b.length>0){t+="<article><h3>"+n[a]+"<br>×<br>"+m[a]+"</h3>";for(var u in b)t+='<ul class="rare'+b[u].rare.length+" rare"+x[u].rare.length+" "+b[u].img.match(/\/(.*?)\./)[1]+" "+x[u].img.match(/\/(.*?)\./)[1]+'"><li><span class="result-name">'+b[u].name+'</span><div class="result-item"><img src="'+b[u].img+'" alt=""><span class="result-rare">'+b[u].rare+'</span><span class="result-grade">Grade <span class="result-grade-num">'+b[u].grade+'</span></span></div></li><li><span class="result-name">'+x[u].name+'</span><div class="result-item"><img src="'+x[u].img+'" alt=""><span class="result-rare">'+x[u].rare+'</span><span class="result-grade">Grade <span class="result-grade-num">'+x[u].grade+"</span></span></div></li></ul>";t+="</article>"}}$("#info-ic").html('<img src="'+e+'" alt="">'),$("#info-name span").text(d),$("#info-grade span").text(o),$("#info-type span").text(l),$("#info-rare span").text(h),$("#result").html(t)}$(function(){function i(){$("#info-name span, #info-grade span, #info-type span, #info-rare span").text(" "),$("#result").empty(),result(si.val())}$.preloadImg=function(){for(var i=0;i<arguments.length;i++)$("<img>").attr("src",arguments[i])},$.preloadImg("img/apurakusasu.png","img/apusarasu.png","img/arahabaki.png","img/aresu.png","img/arianroddo.png","img/arisu.png","img/asherato.png","img/azumi.png","img/azuraeru.png","img/bafometto.png","img/baikon.png","img/baron.png","img/berusebubu.png","img/beruseruku.png","img/bishamonten.png","img/burakkuuzu.png","img/burobu.png","img/byakko.png","img/chagurin.png","img/chupakabura.png","img/dakini.png","img/dantarian.png","img/dekarabia.png","img/dhisu.png","img/dominion.png","img/enjeru.png","img/erigoru.png","img/fantomu.png","img/fenriru.png","img/fomoria.png","img/foruneusu.png","img/gaki.png","img/ganesha.png","img/genbu.png","img/girimekara.png","img/haipikushi.png","img/hanuman.png","img/hatohoru.png","img/heketo.png","img/hokutoseikun.png","img/horusu.png","img/howaitoraida.png","img/ifurito.png","img/inabashirousagi.png","img/inkyubasu.png","img/inugami.png","img/ishisu.png","img/ishutaru.png","img/jakkufurosuto.png","img/jakkurantan.png","img/jikokuten.png","img/jikufurido.png","img/kama.png","img/kamiotoko.png","img/kashi.png","img/keruberosu.png","img/kerupi.png","img/kikurihime.png","img/kimaira.png","img/kinmamon.png","img/kiun.png","img/koppatengu.png","img/koumokuten.png","img/kufurin.png","img/kuramatengu.png","img/kurusuniku.png","img/kushinadahime.png","img/logo.png","img/maddogassa.png","img/makami.png","img/mameido.png","img/mara.png","img/merukomu.png","img/metatoron.png","img/mikaeru.png","img/mitora.png","img/mokoi.png","img/momunofu.png","img/mosuman.png","img/mouryou.png","img/naga.png","img/nekomata.png","img/nozuchi.png","img/nue.png","img/obariyon.png","img/oberon.png","img/odhin.png","img/okasu.png","img/ongyougi.png","img/oni.png","img/orutorosu.png","img/ose.png","img/parasuatena.png","img/pawa.png","img/pazusu.png","img/pere.png","img/piarei.png","img/pikushi.png","img/pishacha.png","img/purinshiparithi.png","img/purometeusu.png","img/rafinsukaru.png","img/raijyuu.png","img/raira.png","img/rakushumi.png","img/randa.png","img/region.png","img/ririmu.png","img/ririsu.png","img/roki.png","img/rushifa.png","img/ryananshi.png","img/sakyubasu.png","img/samaeru.png","img/sandarufon.png","img/sarasuvathi.png","img/seitentaisei.png","img/setanta.png","img/seto.png","img/shadou.png","img/shikiouji.png","img/shiruki.png","img/shisa.png","img/shiva.png","img/shouki.png","img/sorone.png","img/sufinkusu.png","img/sukaaha.png","img/sukadhi.png","img/suraimu.png","img/sureipuniru.png","img/suruto.png","img/susanoo.png","img/takeminakata.png","img/tamurin.png","img/thitania.png","img/toranpetta.png","img/toru.png","img/tsukuyomi.png","img/vacha.png","img/varukiri.png","img/vetara.png","img/vishunu.png","img/yakushini.png","img/yamatanoorochi.png","img/yomotsuikusa.png","img/yomotsushikome.png","img/yoshitsune.png","img/yunikon.png","img/yurungu.png","img/zantoman.png","img/zouchouten.png","img/abadon.png","img/agashion.png","img/akuenjeru.png","img/aman.png","img/amaterasu.png","img/ananta.png","img/anubisu.png","img/apisu.png"),si=$("#search"),$("head").append("<style></style>"),$("#search-btn").click(function(){""!=$('input[type="text"]').val()&&i()}),$('input[type="text"]').keypress(function(g){13==g.which&&""!=$('input[type="text"]').val()&&i()}),$('input[type="checkbox"]').change(function(){if($(this).prop("checked"))$("head style").append("."+$(this).attr("id")+"{display:none !important}");else{var i="."+$(this).attr("id")+"{display:none !important}";$("head style").html($("head style").html().replace(i,""))}})});